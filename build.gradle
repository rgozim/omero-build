import com.google.common.base.CaseFormat

task publishBinaryAndSourcesToGitlabRepository {
    group "omero"
    description "Calls publish\${projet.name}BinaryAndSourcesPublicationToGitlabRepository on all subprojects"
    dependsOn gradle.includedBuilds.collect {
        it.task(":publish${camelCaseName(it)}BinaryAndSourcesPublicationToGitlabRepository")
    }
}

task publishBinaryAndSourcesToMavenLocal {
    group "omero"
    description "Calls publish\${projet.name}BinaryAndSourcesPublicationToMavenLocal on all subprojects"
    dependsOn gradle.includedBuilds.collect {
        it.task(":publish${camelCaseName(it)}BinaryAndSourcesPublicationToMavenLocal")
    }
}

task publishToMavenLocal {
    group "omero"
    description "Calls publishToMavenLocal on all subprojects"
    dependsOn gradle.includedBuilds*.task(':publishToMavenLocal')
}

task publish {
    group "omero"
    description "Calls publish on all subprojects"
    dependsOn gradle.includedBuilds*.task(':publish')
}

task assemble {
    group "omero"
    description "Calls assemble on all subprojects"
    dependsOn gradle.includedBuilds*.task(':assemble')
}

task clean {
    group "omero"
    description "Calls clean on all subprojects"
    dependsOn gradle.includedBuilds*.task(':clean')
}

task test {
    group "omero"
    description "Calls test on all subprojects"
    dependsOn gradle.includedBuilds*.task(':test')
}

task javadoc {
    group "omero"
    description "Calls javadoc on all subprojects"
    dependsOn gradle.includedBuilds*.task(':javadoc')
}

String camelCaseName(IncludedBuild ib) {
    CaseFormat.LOWER_HYPHEN.to(CaseFormat.LOWER_CAMEL, ib.name).capitalize()
}
